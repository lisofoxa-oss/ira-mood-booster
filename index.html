<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello –ò—Ä–∏—à–∞! üòª by Kitty</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –í—Å–µ —Å—Ç–∏–ª–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f8f9ff url('bg-pattern.jpg') repeat;
            min-height: 100vh; overflow-x: hidden;
        }
        #app { padding: 25px 20px; max-width: 400px; margin: 0 auto; position: relative; }
        
        /* –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –í–ù–£–¢–†–ò Vue */
        .music-toggle {
            position: absolute; top: -70px; right: 0; z-index: 1000;
            width: 65px; height: 65px; border: none; border-radius: 50%;
            background: linear-gradient(45deg, #ff1493, #ff69b4); color: white;
            font-size: 1.6em; cursor: pointer; box-shadow: 0 10px 30px rgba(255,20,147,0.4);
            animation: musicPulse 2s infinite;
        }
        @keyframes musicPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.12); }
        }
        .music-toggle.active { background: linear-gradient(45deg, #4caf50, #81c784); }
        
        /* –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π - –∫–æ–ø–∏—Ä—É–π –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–¥–∞ */
        .header { display: flex; align-items: center; margin-bottom: 30px; background: rgba(255,255,255,0.95); padding: 25px; border-radius: 35px; box-shadow: 0 20px 50px rgba(255,182,193,0.3); backdrop-filter: blur(20px); }
        .header img { width: 100px; height: 100px; margin-right: 25px; animation: kittyFloat 3s ease-in-out infinite; }
        @keyframes kittyFloat { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }
        h1 { background: linear-gradient(45deg, #ff1493, #ff69b4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 2.1em; font-weight: 800; margin: 0; flex: 1; }
        /* ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–µ –∂–µ ... */
    </style>
</head>
<body>
    <!-- –í–°–Å –≤–Ω—É—Ç—Ä–∏ Vue #app -->
    <div id="app">
        <!-- –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –ü–ï–†–ï–ú–ï–©–ï–ù–ê –í–ù–£–¢–†–¨ -->
        <button class="music-toggle" @click="toggleMusic" :class="{ active: isMusicOn }">
            {{ isMusicOn ? 'üéµ' : 'üé∂' }}
        </button>

        <div class="header">
            <img src="kitty-head.png" alt="Kitty">
            <h1>Hello –ò—Ä–∏—à–∞! üéÄ</h1>
        </div>
        
        <!-- –û—Å—Ç–∞–ª—å–Ω–æ–π HTML –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
        <div class="stats" v-if="stats.todaySmiles > 0">
            <div class="stat">–°–µ–≥–æ–¥–Ω—è: {{ stats.todaySmiles }} üêæ</div>
            <div class="stat">–í—Å–µ–≥–æ: {{ stats.totalSmiles }} üíï</div>
        </div>

        <!-- ... –≤–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π HTML —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ ... -->
    </div>

    <!-- –ê—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <audio ref="meowSound" preload="auto">
        <source src="meow.mp3" type="audio/mpeg">
    </audio>
    <audio ref="clickSound" preload="auto">
        <source src="click.mp3" type="audio/mpeg">
    </audio>
    <audio ref="bgMusic" loop preload="auto">
        <source src="pink-chill.mp3" type="audio/mpeg">
    </audio>
    <audio ref="sparkleSound" preload="auto">
        <source src="sparkle.mp3" type="audio/mpeg">
    </audio>

    <script>
        const { createApp, ref, onMounted } = Vue;
        
        createApp({
            setup() {
                // 16 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–º–æ–¥–∑–∏
                const kittyEmojis = ['üòª','üêæ','üéÄ','üå∏','üíï','‚≠ê','üçì','‚ú®','üéÅ','üç≠','üß∏','üå∫','üíñ','üéÇ','‚ùÑÔ∏è','üîî'];
                const selectedEmojis = ref([]);
                const currentAdvice = ref('');
                const stats = ref({ todaySmiles: 0, totalSmiles: 0, lastDate: '' });
                const copyStatus = ref({ show: false });
                const isMusicOn = ref(false);
                
                // –ê–£–î–ò–û –†–ï–§–´
                const meowSound = ref(null);
                const clickSound = ref(null);
                const bgMusic = ref(null);
                const sparkleSound = ref(null);
                
                // –ú–∞—Å—Å–∏–≤—ã
                const compliments = ['–ò—Ä–∏—à–∞ ‚Äî —Ç—ã –ª—É—á—à–∞—è! üêæüíï','–¢—ã —Å—É–ø–µ—Ä–∑–≤–µ–∑–¥–∞! üåü‚ú®','–°–∞–º–∞—è –º–∏–ª–∞—è! üòªüéÄ','Kitty –≥–æ—Ä–¥–∏—Ç—Å—è —Ç–æ–±–æ–π! üíñüêæ','–¢—ã –¥–µ–ª–∞–µ—à—å –º–∏—Ä —è—Ä—á–µ! üå∏üí´','–ú—è—É-–º—è—É, –∫—Ä–∞—Å–æ—Ç–∫–∞! üçì‚ú®','–° —Ç–æ–±–æ–π –≤–µ—Å–µ–ª–µ–µ –≤—Å–µ—Ö! üéÄüòª','–õ—é–±–∏–º–∞—è –∑–≤—ë–∑–¥–æ—á–∫–∞! ‚≠êüíï'];
                const kittyActions = ['–∫—É—Ç–∞–π—Å—è –≤ —Ç—ë–ø–ª—ã–π –ø–ª–µ–¥','–ø–µ–π –≥–æ—Ä—è—á–∏–π —à–æ–∫–æ–ª–∞–¥','—Å–ª—É—à–∞–π —É—é—Ç–Ω—É—é –º—É–∑—ã–∫—É','—Å–º–æ—Ç—Ä–∏ –º–∏–ª—ã–µ –≤–∏–¥–µ–æ','—Ä–∏—Å—É–π —Å–Ω–µ–∂–∏–Ω–∫–∏','–Ω–æ—Å–∏ –ø—É—à–∏—Å—Ç—ã–µ –Ω–æ—Å–æ—á–∫–∏','–ø–µ—á—å –∏–º–±–∏—Ä–Ω–æ–µ –ø–µ—á–µ–Ω—å–µ','–¥–µ–ª–∞–π —Å–Ω–µ–∂–∫–∏','—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Ñ–∏–ª—å–º—ã','–æ–±–Ω–∏–º–∞–π –∫–æ—Ç–∏–∫–∞','—É–ª—ã–±–∞–π—Å—è –≤ –æ–∫–Ω–æ','—Ç–∞–Ω—Ü–µ–≤–∞—Ç—å –ø–æ–¥ –ª–∞–º–ø–æ—á–∫–∏'];
                const kittyDetails = ['—Å –∫–∞–∫–∞–æ','—É –æ–∫–Ω–∞ —Å–æ —Å–Ω–µ–≥–æ–º','—Å –∫–æ—Ç–∏–∫–æ–º','–ø–æ–¥ –≥–∏—Ä–ª—è–Ω–¥–æ–π','–≤ —Ç—ë–ø–ª—ã—Ö –Ω–æ—Å–æ—á–∫–∞—Ö','—Å –º–∞–Ω–¥–∞—Ä–∏–Ω–∫–∞–º–∏','–ø–æ–¥ –ø–ª–µ–¥–æ–º','—Å –≥–æ—Ä—è—á–∏–º–∏ –Ω–∞–ø–∏—Ç–∫–∞–º–∏','–≤ —Å–≤–∏—Ç–µ—Ä–µ —Å –æ–ª–µ–Ω—è–º–∏','—Å –¥—Ä—É–∑—å—è–º–∏'];
                const kittyBonuses = ['—Ç—ã —Å–æ–∑–¥–∞—ë—à—å —É—é—Ç!','—Ç–µ–ø–ª–æ –æ—Ç —Ç–≤–æ–µ–π —É–ª—ã–±–∫–∏!','–∑–∏–º–∞ —Å —Ç–æ–±–æ–π –≤–æ–ª—à–µ–±–Ω–∞—è!','—Å–∞–º–∞—è —Ç—ë–ø–ª–∞—è –¥—É—à–∞!','—Å—É–ø–µ—Ä-–∑–∏–º–Ω—è—è –∑–≤–µ–∑–¥–∞!','—É—é—Ç–Ω–µ–µ –≤—Å–µ—Ö!'];
                
                const playSound = (soundRef) => {
                    if (isMusicOn.value && soundRef.value) {
                        soundRef.value.currentTime = 0;
                        soundRef.value.volume = 0.4;
                        soundRef.value.play().catch(e => console.log('Audio blocked:', e));
                    }
                };
                
                const toggleMusic = () => {
                    isMusicOn.value = !isMusicOn.value;
                    if (isMusicOn.value && bgMusic.value) {
                        bgMusic.value.volume = 0.15;
                        bgMusic.value.play().catch(e => console.log('Music failed:', e));
                    } else if (bgMusic.value) {
                        bgMusic.value.pause();
                    }
                };
                
                const loadStats = () => {
                    const saved = localStorage.getItem('iraKittyStats');
                    if (saved) {
                        stats.value = JSON.parse(saved);
                        const today = new Date().toDateString();
                        if (stats.value.lastDate !== today) {
                            stats.value.todaySmiles = 0;
                            stats.value.lastDate = today;
                        }
                    } else {
                        stats.value.lastDate = new Date().toDateString();
                        localStorage.setItem('iraKittyStats', JSON.stringify(stats.value));
                    }
                };
                
                const toggleEmoji = (emoji) => {
                    playSound(clickSound);
                    const idx = selectedEmojis.value.indexOf(emoji);
                    if (idx > -1) selectedEmojis.value.splice(idx, 1);
                    else if (selectedEmojis.value.length < 3) selectedEmojis.value.push(emoji);
                };
                
                const generateAdvice = () => {
                    playSound(sparkleSound);
                    setTimeout(() => playSound(meowSound), 300);
                    
                    const actionIdx = Math.floor(Math.random() * kittyActions.length);
                    const detailIdx = Math.floor(Math.random() * kittyDetails.length);
                    const bonusIdx = Math.floor(Math.random() * kittyBonuses.length);
                    
                    currentAdvice.value = `${kittyActions[actionIdx]} ${kittyDetails[detailIdx]}, ${kittyBonuses[bonusIdx]}`;
                    
                    stats.value.todaySmiles++; stats.value.totalSmiles++;
                    localStorage.setItem('iraKittyStats', JSON.stringify(stats.value));
                    
                    // –°–µ—Ä–¥–µ—á–∫–∏
                    for(let i = 0; i < 12; i++) {
                        setTimeout(() => {
                            const heart = document.createElement('div');
                            heart.className = 'heart';
                            heart.innerHTML = ['üíñ','‚ú®','‚ùÑÔ∏è','üêæ','üéÄ','üòª'][Math.floor(Math.random()*6)];
                            heart.style.left = Math.random() * 100 + '%';
                            heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
                            document.querySelector('.hearts').appendChild(heart);
                            setTimeout(() => heart.remove(), 5000);
                        }, i * 100);
                    }
                };
                
                const shareAdvice = async () => {
                    playSound(clickSound);
                    const shareText = `üòª Kitty –≥–æ–≤–æ—Ä–∏—Ç –ò—Ä–∏—à–µ: ${currentAdvice.value}\n${compliments[Math.floor(Math.random() * compliments.length)]}`;
                    try {
                        await navigator.clipboard.writeText(shareText);
                        copyStatus.value.show = true;
                        setTimeout(() => { copyStatus.value.show = false; }, 3000);
                    } catch(e) {
                        console.log('Copy failed:', e);
                    }
                };
                
                onMounted(() => {
                    loadStats();
                    if (window.Telegram?.WebApp) {
                        Telegram.WebApp.expand();
                        Telegram.WebApp.MainButton
                            .setText('–ù–æ–≤—ã–π —Å–æ–≤–µ—Ç –æ—Ç Kitty! üòª')
                            .setColor('#ff1493')
                            .show()
                            .onClick(() => {
                                playSound(clickSound);
                                generateAdvice();
                            });
                    }
                });
                
                return { 
                    kittyEmojis, selectedEmojis, currentAdvice, stats, copyStatus, isMusicOn,
                    toggleEmoji, generateAdvice, shareAdvice, compliments, toggleMusic,
                    meowSound, clickSound, bgMusic, sparkleSound 
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
