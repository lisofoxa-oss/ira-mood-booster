<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello –ò—Ä–∏—à–∞! üòª by Kitty</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #fff5f7 url('bg-pattern.jpg') repeat;
            min-height: 100vh; overflow-x: hidden;
        }
        #app { padding: 25px 20px; max-width: 400px; margin: 0 auto; }
        
        .header { 
            display: flex; align-items: center; margin-bottom: 30px;
            background: rgba(255,255,255,0.95); padding: 25px; 
            border-radius: 35px; box-shadow: 0 20px 50px rgba(255,182,193,0.3);
            backdrop-filter: blur(20px);
        }
        .header img { 
            width: 100px; height: 100px; margin-right: 25px; 
            animation: kittyFloat 3s ease-in-out infinite; 
        }
        @keyframes kittyFloat { 
            0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} 
        }
        
        h1 { 
            background: linear-gradient(45deg, #ff1493, #ff69b4); 
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            font-size: 2.1em; font-weight: 800; margin: 0; flex: 1;
        }
        
        .emoji-grid {
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 18px; 
            margin: 35px 0; 
            padding: 30px 25px; 
            background: rgba(255,255,255,0.92); 
            border-radius: 35px; 
            box-shadow: 0 20px 60px rgba(255,105,180,0.25);
            backdrop-filter: blur(25px);
            border: 3px solid rgba(255,182,193,0.4);
        }
        .emoji-btn {
            width: 100%; height: 85px; border: none; border-radius: 25px;
            font-size: 2.5em; background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,245,248,0.9));
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative; overflow: hidden;
            border: 4px solid transparent;
        }
        .emoji-btn::before {
            content: ''; position: absolute; top: -50%; left: -50%; 
            width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.6) 0%, transparent 70%);
            opacity: 0; transition: opacity 0.4s;
        }
        .emoji-btn:hover::before { opacity: 1; }
        .emoji-btn:hover { 
            transform: translateY(-8px) scale(1.08); 
            border-color: #ff69b4; box-shadow: 0 20px 50px rgba(255,105,180,0.4);
        }
        .emoji-btn.selected { 
            background: linear-gradient(135deg, #ff69b4, #ff1493) !important;
            color: white; transform: translateY(-12px) scale(1.15) !important;
            border-color: #ffe4f0 !important; 
            box-shadow: 0 25px 70px rgba(255,105,180,0.6) !important;
            animation: selectedPulse 1s infinite;
        }
        @keyframes selectedPulse {
            0%, 100% { box-shadow: 0 25px 70px rgba(255,105,180,0.6); }
            50% { box-shadow: 0 30px 80px rgba(255,105,180,0.8); }
        }
        .emoji-btn:disabled:not(.selected) { opacity: 0.6; cursor: not-allowed; }
        
        .generate-btn {
            width: 100%; padding: 25px; border: none; border-radius: 40px;
            background: linear-gradient(45deg, #ff1493, #ff69b4, #ffc0cb); 
            background-size: 200% 200%; color: white; font-size: 1.45em; 
            font-weight: 800; cursor: pointer; margin: 30px 0; 
            box-shadow: 0 15px 45px rgba(255,20,147,0.4);
            animation: gradientShift 3s ease infinite;
            position: relative; overflow: hidden;
        }
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        .generate-btn:hover:not(:disabled) { 
            transform: translateY(-5px) scale(1.03); 
            box-shadow: 0 25px 60px rgba(255,20,147,0.6);
        }
        .generate-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .advice {
            background: rgba(255,255,255,0.97); padding: 45px 30px 35px;
            border-radius: 40px; text-align: center; margin: 35px 0;
            box-shadow: 0 25px 80px rgba(255,105,180,0.35);
            position: relative; overflow: hidden;
            border: 4px solid rgba(255,182,193,0.5);
            backdrop-filter: blur(25px);
        }
        .advice img { 
            position: absolute; left: 30px; top: 50%; 
            transform: translateY(-50%); width: 95px; height: 95px;
            animation: kittyWink 3s infinite;
        }
        @keyframes kittyWink {
            0%, 85% { transform: translateY(-50%) scale(1); }
            90% { transform: translateY(-55%) scale(0.95); }
            100% { transform: translateY(-50%) scale(1); }
        }
        
        .kitty-talk { 
            font-size: 1.55em; font-weight: 900; 
            background: linear-gradient(45deg, #ff1493, #ff69b4);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 18px; margin-left: 120px; position: relative;
        }
        .advice-text { 
            font-size: 1.35em; color: #333; line-height: 1.5; 
            margin-left: 120px; margin-bottom: 20px; font-weight: 600;
        }
        .kitty-compliment {
            font-size: 1.1em; color: #ff69b4; font-weight: 700;
            margin-left: 120px; position: relative; margin-top: 15px;
            animation: sparkleText 2s ease-in-out infinite;
        }
        @keyframes sparkleText {
            0%, 100% { text-shadow: 0 0 10px rgba(255,105,180,0.5); }
            50% { text-shadow: 0 0 25px rgba(255,105,180,0.8), 0 0 35px rgba(255,182,193,0.6); }
        }
        
        .stats { 
            display: flex; justify-content: space-around; padding: 25px;
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,245,248,0.9));
            border-radius: 30px; margin: 25px 0; box-shadow: 0 20px 60px rgba(255,182,193,0.3);
            border: 3px solid rgba(255,105,180,0.4); backdrop-filter: blur(20px);
        }
        .stat { 
            color: #ff1493; font-weight: 800; font-size: 1.25em; 
            text-shadow: 0 2px 10px rgba(255,105,180,0.3);
        }
        
        .share-btn {
            background: linear-gradient(45deg, #ff69b4, #ff1493, #ffb6c1) !important;
            margin-top: 15px; font-size: 1.35em !important;
        }
        
        .hearts { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 100; }
        .heart { 
            position: absolute; font-size: 2em; color: #ff1493;
            animation: floatUp 4.5s ease-out forwards;
        }
        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0) rotate(0deg); opacity: 0; }
            15% { opacity: 1; }
            85% { opacity: 1; }
            100% { transform: translateY(-120px) scale(1) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="header">
            <img src="kitty-head.png" alt="Kitty">
            <h1>Hello –ò—Ä–∏—à–∞! üéÄ</h1>
        </div>
        
        <div class="stats" v-if="stats.todaySmiles > 0">
            <div class="stat">–°–µ–≥–æ–¥–Ω—è: {{ stats.todaySmiles }} üêæ</div>
            <div class="stat">–í—Å–µ–≥–æ: {{ stats.totalSmiles }} üíï</div>
        </div>

        <div class="emoji-grid">
            <button v-for="(emoji, i) in kittyEmojis" :key="i"
                class="emoji-btn" :class="{ selected: selectedEmojis.includes(emoji) }"
                @click="toggleEmoji(emoji)" :disabled="selectedEmojis.length >= 3">
                {{ emoji }}
            </button>
        </div>

        <button class="generate-btn" :disabled="selectedEmojis.length < 3" @click="generateAdvice">
            {{ selectedEmojis.length < 3 ? `–í—ã–±–µ—Ä–∏ –µ—â—ë ${3-selectedEmojis.length} —Å—Ç–∏–∫–µ—Ä–∞! üíñ` : '–ú—è—É-–º—è—É! –î–∞–π —Å–æ–≤–µ—Ç –æ—Ç Kitty! ‚ú®' }}
        </button>

        <div v-if="currentAdvice" class="advice">
            <img src="kitty-wink.png" alt="Kitty wink">
            <div class="kitty-talk">üòª Kitty –≥–æ–≤–æ—Ä–∏—Ç:</div>
            <div class="advice-text">{{ currentAdvice }}</div>
            <div class="kitty-compliment">{{ compliments[Math.floor(Math.random() * compliments.length)] }}</div>
        </div>

        <button v-if="currentAdvice" class="generate-btn share-btn" @click="shareAdvice">
            üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è! üå∏
        </button>
    </div>

    <div class="hearts" ref="heartsContainer"></div>

    <script>
        const { createApp, ref, onMounted } = Vue;
        
        createApp({
            setup() {
                const kittyEmojis = ['üòª','üêæ','üéÄ','üå∏','üíï','‚≠ê','üçì','‚ú®','üéÅ','üç≠','üß∏','üå∫','üíñ','üéÇ'];
                const selectedEmojis = ref([]);
                const currentAdvice = ref('');
                const stats = ref({ todaySmiles: 0, totalSmiles: 0, lastDate: '' });
                
                const compliments = [
                    '–ò—Ä–∏—à–∞ ‚Äî —Ç—ã –ª—É—á—à–∞—è! üêæüíï',
                    '–¢—ã —Å—É–ø–µ—Ä–∑–≤–µ–∑–¥–∞! üåü‚ú®', 
                    '–°–∞–º–∞—è –º–∏–ª–∞—è –Ω–∞ —Å–≤–µ—Ç–µ! üòªüéÄ',
                    'Hello Kitty —Ç–æ–±–æ–π –≥–æ—Ä–¥–∏—Ç—Å—è! üíñüêæ',
                    '–¢—ã –¥–µ–ª–∞–µ—à—å –º–∏—Ä —è—Ä—á–µ! üå∏üí´',
                    '–ú—è—É-–º—è—É, –∫–∞–∫–∞—è –∫—Ä–∞—Å–æ—Ç–∫–∞! üçì‚ú®',
                    '–° —Ç–æ–±–æ–π –≤–µ—Å–µ–ª–µ–µ –≤—Å–µ—Ö! üéÄüòª',
                    '–¢—ã ‚Äî –º–æ—è –ª—é–±–∏–º–∞—è –∑–≤—ë–∑–¥–æ—á–∫–∞! ‚≠êüíï'
                ];
                
                const kittyActions = [
                    '–Ω–æ—Å–∏ –ª—é–±–∏–º—ã–π –±–∞–Ω—Ç–∏–∫', '–µ—à—å –∫–ª—É–±–Ω–∏—á–Ω—ã–π –¥–µ—Å–µ—Ä—Ç', '—Ç–∞–Ω—Ü—É–π –ø–æ–¥ –ø–æ–ø—Å—É', 
                    '—É–ª—ã–±–∞–π—Å—è –¥—Ä—É–∑—å—è–º', '–≥—É–ª—è–π —Å –º–æ—Ä–æ–∂–µ–Ω—ã–º', '—Å–ª—É—à–∞–π –ª—é–±–∏–º—ã–π –ø–ª–µ–π–ª–∏—Å—Ç', 
                    '—Ä–∏—Å—É–π —Å–µ—Ä–¥–µ—á–∫–∏', '–Ω–æ—Å–∏ —Ä–æ–∑–æ–≤—ã–µ –æ—á–∫–∏', '–æ–±–Ω–∏–º–∞–π –∫–æ—Ç–∏–∫–∞', 
                    '–º–µ—á—Ç–∞–π –æ —Å–ª–∞–¥–æ—Å—Ç—è—Ö', '–∫—Ä–∞—Å—å –Ω–æ–≥—Ç–∏ –≤ —Ä–æ–∑–æ–≤—ã–π', '–¥–µ–ª–∞–π —Å–µ–ª—Ñ–∏'
                ];
                const kittyDetails = [
                    '—Å –±–µ–ª—ã–º –±–∞–Ω—Ç–∏–∫–æ–º', '—Å –∫–ª—É–±–Ω–∏—á–∫–∞–º–∏', '–ø–æ–¥ –∑–≤—ë–∑–¥–∞–º–∏', '—Å –ø–æ–¥—Ä—É–∂–∫–∞–º–∏', 
                    '–≤ –±–µ–ª—ã—Ö –≥–æ–ª—å—Ñ–∏–∫–∞—Ö', '—Å –ø–ª—é—à–µ–≤—ã–º–∏ –∏–≥—Ä—É—à–∫–∞–º–∏', '–Ω–∞ –ø–∏–∫–Ω–∏–∫–µ', 
                    '—Å –±–ª–µ—Å—Ç—è—â–∏–º –ª–∞–∫–æ–º', '—Å —è–±–ª–æ—á–Ω—ã–º –ø–∏—Ä–æ–≥–æ–º', '–≤ —Å–µ—Ä–¥–µ—á–∫–∞—Ö'
                ];
                const kittyBonuses = [
                    '—Ç—ã –º–æ—è –ª—é–±–∏–º–∞—è!', 'Kitty —Ç–æ–±–æ–π –≥–æ—Ä–¥–∏—Ç—Å—è!', '–º—è—É-–º—è—É —Å—É–ø–µ—Ä!', 
                    '—Å–∞–º–∞—è –º–∏–ª–∞—è!', '—Ç—ã –∑–≤–µ–∑–¥–∞!', '—Å—É–ø–µ—Ä-–∫–æ—Ç—ë–Ω–æ–∫!', '–∫—Ä–∞—Å–∏–≤—ã–π –±–∞–Ω—Ç–∏–∫!'
                ];
                
                const loadStats = () => {
                    const saved = localStorage.getItem('iraKittyStats');
                    if (saved) {
                        stats.value = JSON.parse(saved);
                        const today = new Date().toDateString();
                        if (stats.value.lastDate !== today) {
                            stats.value.todaySmiles = 0;
                            stats.value.lastDate = today;
                        }
                    } else {
                        stats.value.lastDate = new Date().toDateString();
                        localStorage.setItem('iraKittyStats', JSON.stringify(stats.value));
                    }
                };
                
                const toggleEmoji = (emoji) => {
                    const idx = selectedEmojis.value.indexOf(emoji);
                    if (idx > -1) selectedEmojis.value.splice(idx, 1);
                    else if (selectedEmojis.value.length < 3) selectedEmojis.value.push(emoji);
                };
                
                const generateAdvice = () => {
                    const actionIdx = Math.floor(Math.random() * kittyActions.length);
                    const detailIdx = Math.floor(Math.random() * kittyDetails.length);
                    const bonusIdx = Math.floor(Math.random() * kittyBonuses.length);
                    
                    currentAdvice.value = `${kittyActions[actionIdx]} ${kittyDetails[detailIdx]}, ${kittyBonuses[bonusIdx]}`;
                    
                    stats.value.todaySmiles++; stats.value.totalSmiles++;
                    localStorage.setItem('iraKittyStats', JSON.stringify(stats.value));
                    
                    // –°–µ—Ä–¥–µ—á–∫–∏
                    for(let i = 0; i < 12; i++) {
                        setTimeout(() => {
                            const heart = document.createElement('div');
                            heart.className = 'heart';
                            heart.innerHTML = ['üíñ','‚ú®','üå∏','üêæ','üéÄ','üòª'][Math.floor(Math.random()*6)];
                            heart.style.left = Math.random() * 100 + '%';
                            heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
                            document.querySelector('.hearts').appendChild(heart);
                            setTimeout(() => heart.remove(), 5000);
                        }, i * 100);
                    }
                };
                
                const shareAdvice = async () => {
                    const shareText = `üòª Kitty –≥–æ–≤–æ—Ä–∏—Ç –ò—Ä–∏—à–µ: ${currentAdvice.value}\n${compliments[Math.floor(Math.random() * compliments.length)]}\n#Hello–ò—Ä–∏—à–∞`;
                    try {
                        await navigator.clipboard.writeText(shareText);
                        alert('üìã –°–æ–≤–µ—Ç—É –æ—Ç Kitty —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω! –í—Å—Ç–∞–≤—å –≤ –¢–ì –∏–ª–∏ –≥–¥–µ —Ö–æ—á–µ—à—å üíï');
                    } catch {
                        alert('–°–æ–≤–µ—Ç –≥–æ—Ç–æ–≤: ' + shareText);
                    }
                };
                
                onMounted(() => {
                    loadStats();
                    if (window.Telegram?.WebApp) {
                        Telegram.WebApp.expand();
                        Telegram.WebApp.MainButton
                            .setText('–ù–æ–≤—ã–π —Å–æ–≤–µ—Ç –æ—Ç Kitty! üòª')
                            .setColor('#ff1493')
                            .show()
                            .onClick(generateAdvice);
                    }
                });
                
                return { 
                    kittyEmojis, selectedEmojis, currentAdvice, stats, 
                    toggleEmoji, generateAdvice, shareAdvice, compliments 
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
