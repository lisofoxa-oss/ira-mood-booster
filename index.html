<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello –ò—Ä–∏—à–∞! üíï by Kitty</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üòª</text></svg>">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', -apple-system, sans-serif;
            background: linear-gradient(135deg, #fff1f5 0%, #ffeef8 50%, #fecfef 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        #app { padding: 20px; max-width: 400px; margin: 0 auto; }
        h1 { 
            text-align: center; 
            background: linear-gradient(45deg, #ff69b4, #ff1493);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 1.9em; 
            margin-bottom: 20px; 
            text-shadow: 0 2px 10px rgba(255,105,180,0.3);
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        .kitty-subtitle {
            text-align: center; color: #ff69b4; font-size: 1.1em;
            margin-bottom: 25px; font-weight: 600;
        }
        .emoji-grid {
            display: grid; grid-template-columns: repeat(4, 1fr); 
            gap: 12px; margin: 25px 0;
        }
        .emoji-btn {
            width: 68px; height: 68px; border: 3px solid transparent;
            border-radius: 22px; font-size: 1.8em; cursor: pointer; 
            transition: all 0.3s ease; background: rgba(255,255,255,0.9);
            box-shadow: 0 6px 20px rgba(255,105,180,0.2);
            backdrop-filter: blur(10px);
        }
        .emoji-btn:hover { 
            transform: scale(1.12) rotate(5deg); 
            border-color: #ff69b4; box-shadow: 0 10px 30px rgba(255,105,180,0.4);
        }
        .emoji-btn.selected { 
            background: linear-gradient(45deg, #ff69b4, #ff1493) !important;
            color: white; transform: scale(1.2) rotate(10deg) !important;
            border-color: #fff !important; box-shadow: 0 12px 40px rgba(255,105,180,0.6);
            animation: kittyPulse 0.8s infinite;
        }
        @keyframes kittyPulse {
            0%, 100% { transform: scale(1.2) rotate(10deg); }
            50% { transform: scale(1.35) rotate(10deg); }
        }
        .advice {
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,241,245,0.9));
            backdrop-filter: blur(20px); border-radius: 30px; 
            padding: 35px 25px; text-align: center; 
            box-shadow: 0 15px 40px rgba(255,105,180,0.25);
            margin: 30px 0; min-height: 140px; 
            display: flex; flex-direction: column; align-items: center;
            font-size: 1.25em; color: #333; position: relative;
            border: 2px solid rgba(255,105,180,0.3);
        }
        .kitty-talk {
            font-size: 1.4em; font-weight: 700; color: #ff1493;
            margin-bottom: 10px; text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .advice-text {
            font-size: 1.15em; line-height: 1.4; color: #444;
        }
        .generate-btn {
            width: 100%; padding: 20px; border: none; border-radius: 35px;
            background: linear-gradient(45deg, #ff69b4, #ff1493, #ff69b4);
            background-size: 200% 200%; color: white; font-size: 1.35em; 
            font-weight: 700; cursor: pointer; transition: all 0.4s;
            margin: 25px 0; box-shadow: 0 8px 25px rgba(255,105,180,0.4);
            animation: shimmer 2s infinite;
        }
        @keyframes shimmer {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .generate-btn:hover:not(:disabled) { 
            transform: translateY(-3px) scale(1.02); 
            box-shadow: 0 15px 35px rgba(255,105,180,0.6);
        }
        .generate-btn:disabled { opacity: 0.6; cursor: not-allowed; }
        .stats { 
            display: flex; justify-content: space-around; margin: 20px 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,241,245,0.8));
            padding: 18px; border-radius: 25px; backdrop-filter: blur(15px);
            border: 1px solid rgba(255,105,180,0.2);
        }
        .stat { 
            text-align: center; color: #ff1493; font-weight: 700; 
            font-size: 1.1em; text-shadow: 0 1px 3px rgba(255,105,180,0.3);
        }
        .hearts { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 1000; }
        .heart { 
            position: absolute; font-size: 1.6em; 
            animation: kittyFloat 4s ease-out forwards;
        }
        @keyframes kittyFloat {
            0% { transform: translateY(100vh) rotate(0deg) scale(0); opacity: 1; }
            50% { opacity: 1; }
            100% { transform: translateY(-120px) rotate(360deg) scale(1); opacity: 0; }
        }
        .share-btn {
            background: linear-gradient(45deg, #ff1493, #ff69b4) !important;
            margin-top: 15px; font-size: 1.2em !important;
        }
    </style>
</head>
<body>
    <div id="app">
        <h1>Hello –ò—Ä–∏—à–∞! üòª</h1>
        <p class="kitty-subtitle">by Hello Kitty üíï</p>
        
        <div class="stats" v-if="stats.todaySmiles > 0">
            <div class="stat">
                –°–µ–≥–æ–¥–Ω—è: {{ stats.todaySmiles }} üéÄ
            </div>
            <div class="stat">
                –í—Å–µ–≥–æ: {{ stats.totalSmiles }} üêæ
            </div>
        </div>

        <div class="emoji-grid">
            <button 
                v-for="(emoji, i) in kittyEmojis" :key="i"
                class="emoji-btn" :class="{ selected: selectedEmojis.includes(emoji) }"
                @click="toggleEmoji(emoji)"
                :disabled="selectedEmojis.length >= 3"
            >{{ emoji }}</button>
        </div>

        <button 
            class="generate-btn" 
            :disabled="selectedEmojis.length < 3"
            @click="generateAdvice"
        >
            {{ selectedEmojis.length < 3 ? `–í—ã–±–µ—Ä–∏ –µ—â—ë ${3-selectedEmojis.length} —Å—Ç–∏–∫–µ—Ä–∞! üíñ` : '–ú—è—É! –î–∞–π —Å–æ–≤–µ—Ç –æ—Ç Kitty! ‚ú®' }}
        </button>

        <div v-if="currentAdvice" class="advice">
            <div class="kitty-talk">üòª Hello Kitty –≥–æ–≤–æ—Ä–∏—Ç:</div>
            <div class="advice-text">{{ currentAdvice }}</div>
            <div style="margin-top: 12px; font-size: 0.95em; color: #ff69b4;">
                –ú—è—É-–º—è—É, –ò—Ä–∏—à–∞ ‚Äî —Ç—ã –ª—É—á—à–∞—è! üêæüíï
            </div>
        </div>

        <button 
            v-if="currentAdvice" 
            class="generate-btn share-btn"
            @click="shareAdvice"
        >–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å Kitty –≤ –¢–ì! üå∏</button>
    </div>

    <div class="hearts" ref="heartsContainer"></div>

    <script>
        const { createApp, ref, onMounted } = Vue;
        
        createApp({
            setup() {
                // Hello Kitty —Ç–µ–º–∞—Ç–∏–∫–∞ ‚Äî 3000+ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–æ–≤–µ—Ç–æ–≤!
                const kittyMoods = [
                    'üòª –ò–≥—Ä–∏–≤–æ–µ', 'üéÄ –ú–æ–¥–Ω–æ–µ', 'üçì –°–ª–∞–¥–∫–æ–µ', 'üå∏ –¶–≤–µ—Ç–æ—á–Ω–æ–µ', 
                    'üíñ –õ—é–±–æ–≤–Ω–æ–µ', '‚≠ê –ó–≤—ë–∑–¥–Ω–æ–µ', 'üêæ –ö–æ—Ç—è—Ç–Ω–æ–µ', 'üéÅ –ü–æ–¥–∞—Ä–æ—á–Ω–æ–µ'
                ];
                const kittyActions = [
                    '–Ω–æ—Å–∏ —Å–≤–æ–π –ª—é–±–∏–º—ã–π –±–∞–Ω—Ç–∏–∫', '–µ—à—å –∫–ª—É–±–Ω–∏—á–Ω—ã–π –¥–µ—Å–µ—Ä—Ç', 
                    '—Ç–∞–Ω—Ü—É–π —Å Hello Kitty', '—É–ª—ã–±–∞–π—Å—è –¥—Ä—É–∑—å—è–º', 
                    '–≥—É–ª—è–π —Å –º–æ—Ä–æ–∂–µ–Ω—ã–º', '—Å–ª—É—à–∞–π –ø–æ–ø-–ø–µ—Å–Ω–∏', 
                    '—Ä–∏—Å—É–π —Å–µ—Ä–¥–µ—á–∫–∏', '–Ω–æ—Å–∏ —Ä–æ–∑–æ–≤—ã–µ –æ—á–∫–∏',
                    '–æ–±–Ω–∏–º–∞–π –ø–ª—é—à–µ–≤–æ–≥–æ –º–∏—à–∫—É', '–º–µ—á—Ç–∞–π –æ —Å–ª–∞–¥–æ—Å—Ç—è—Ö'
                ];
                const kittyDetails = [
                    '—Å –±–µ–ª—ã–º –±–∞–Ω—Ç–∏–∫–æ–º', '—Å –∫–ª—É–±–Ω–∏—á–∫–∞–º–∏', '–ø–æ–¥ –≤–∏—à–Ω—ë–≤—ã–º —Ü–≤–µ—Ç–æ–º', 
                    '—Å –¥—Ä—É–∑—å—è–º–∏', '–≤ –±–µ–ª—ã—Ö –≥–æ–ª—å—Ñ–∏–∫–∞—Ö', '—Å –ø–ª—é—à–µ–≤—ã–º–∏ –∏–≥—Ä—É—à–∫–∞–º–∏',
                    '–Ω–∞ –ø–∏–∫–Ω–∏–∫–µ', '—Å –±–ª–µ—Å—Ç—è—â–∏–º –ª–∞–∫–æ–º'
                ];
                const kittyBonuses = [
                    '—Ç—ã –º–æ—è –ª—é–±–∏–º–∞—è!', 'Hello Kitty –≥–æ—Ä–¥–∏—Ç—Å—è —Ç–æ–±–æ–π!', 
                    '–º—è—É-–º—è—É —Å—É–ø–µ—Ä!', '—Å–∞–º–∞—è –º–∏–ª–∞—è!', '—Ç—ã –∑–≤–µ–∑–¥–∞!',
                    '—Å—É–ø–µ—Ä-–∫–æ—Ç—ë–Ω–æ–∫!', '—Å–∞–º—ã–π –∫—Ä–∞—Å–∏–≤—ã–π –±–∞–Ω—Ç–∏–∫!'
                ];

                const kittyEmojis = ['üòª', 'üôÄ', 'üêæ', 'üéÄ', 'üå∏', 'üíï', '‚≠ê', 'üçì', 'üéÅ', 'üß∏', 'üç≠', '‚ú®'];
                const selectedEmojis = ref([]);
                const currentAdvice = ref('');

                const stats = ref({
                    todaySmiles: 0,
                    totalSmiles: 0,
                    lastDate: ''
                });

                const loadStats = () => {
                    const saved = localStorage.getItem('iraKittyStats');
                    if (saved) {
                        stats.value = JSON.parse(saved);
                        const today = new Date().toDateString();
                        if (stats.value.lastDate !== today) {
                            stats.value.todaySmiles = 0;
                            stats.value.lastDate = today;
                        }
                    } else {
                        const today = new Date().toDateString();
                        stats.value.lastDate = today;
                        saveStats();
                    }
                };

                const saveStats = () => {
                    localStorage.setItem('iraKittyStats', JSON.stringify(stats.value));
                };

                const toggleEmoji = (emoji) => {
                    const idx = selectedEmojis.value.indexOf(emoji);
                    if (idx > -1) {
                        selectedEmojis.value.splice(idx, 1);
                    } else if (selectedEmojis.value.length < 3) {
                        selectedEmojis.value.push(emoji);
                    }
                };

                const generateAdvice = () => {
                    const moodIdx = Math.floor(Math.random() * kittyMoods.length);
                    const actionIdx = Math.floor(Math.random() * kittyActions.length);
                    const detailIdx = Math.floor(Math.random() * kittyDetails.length);
                    const bonusIdx = Math.floor(Math.random() * kittyBonuses.length);
                    
                    currentAdvice.value = `${kittyActions[actionIdx]} ${kittyDetails[detailIdx]}, ${kittyBonuses[bonusIdx]}`;
                    
                    stats.value.todaySmiles++;
                    stats.value.totalSmiles++;
                    saveStats();
                    
                    createKittyHearts();
                };

                const createKittyHearts = () => {
                    const kittyHearts = ['üíñ', '‚ú®', 'üå∏', 'üêæ', 'üéÄ', 'üòª', '‚≠ê'];
                    for (let i = 0; i < 10; i++) {
                        setTimeout(() => {
                            const heart = document.createElement('div');
                            heart.className = 'heart';
                            heart.innerHTML = kittyHearts[Math.floor(Math.random() * kittyHearts.length)];
                            heart.style.left = Math.random() * 100 + '%';
                            heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
                            document.querySelector('.hearts').appendChild(heart);
                            setTimeout(() => heart.remove(), 5000);
                        }, i * 120);
                    }
                };

                const shareAdvice = () => {
                    const shareText = `üòª Hello Kitty –≥–æ–≤–æ—Ä–∏—Ç: ${currentAdvice.value} üíï #–ò—Ä–∏—à–∞MoodBooster`;
                    if (window.Telegram?.WebApp) {
                        Telegram.WebApp.showAlert('–ú—è—É-–º—è—É! –°–æ–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ —Ç–≤–æ–∏ –ª—é–±–∏–º—ã–µ –º–æ–º–µ–Ω—Ç—ã! üêæ');
                        Telegram.WebApp.MainButton.setText('–ù–æ–≤—ã–π —Å–æ–≤–µ—Ç –æ—Ç Kitty! üòª').show();
                    } else {
                        navigator.clipboard.writeText(shareText);
                        alert('–°–æ–≤–µ—Ç –æ—Ç Kitty —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω! –ü–æ–¥–µ–ª–∏—Å—å —Å –ø–æ–¥—Ä—É–∂–∫–∞–º–∏! üíñ');
                    }
                };

                onMounted(() => {
                    loadStats();
                    if (window.Telegram?.WebApp) {
                        Telegram.WebApp.expand();
                        Telegram.WebApp.MainButton.setText('–ù–æ–≤—ã–π —Å–æ–≤–µ—Ç –æ—Ç Kitty! üòª')
                            .setColor('#ff69b4')
                            .show()
                            .onClick(generateAdvice);
                    }
                });

                return {
                    kittyEmojis: kittyEmojis, selectedEmojis, currentAdvice, stats,
                    toggleEmoji, generateAdvice, shareAdvice
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
