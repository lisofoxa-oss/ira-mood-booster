<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello –ò—Ä–∏—à–∞! üòª by Kitty</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f8f9ff url('bg-pattern.jpg') repeat;
            min-height: 100vh; overflow-x: hidden;
        }
        #app { 
            padding: 25px 20px; max-width: 400px; margin: 0 auto; 
            position: relative; min-height: 100vh;
        }
        
        .music-toggle {
            position: absolute; top: 15px; right: 15px; z-index: 1000;
            width: 55px; height: 55px; border: none; border-radius: 15px;
            background: linear-gradient(135deg, #ff69b4, #ff1493); color: white;
            font-size: 1.4em; font-weight: bold; cursor: pointer; 
            box-shadow: 0 8px 25px rgba(255,105,180,0.4);
            display: flex; align-items: center; justify-content: center;
            transition: all 0.3s ease;
        }
        .music-toggle:hover { transform: scale(1.1) rotate(10deg); }
        .music-toggle.active { background: linear-gradient(135deg, #4caf50, #66bb6a); }
        
        .header { 
            display: flex; align-items: center; margin: 80px 0 30px 0;
            background: rgba(255,255,255,0.95); padding: 25px; 
            border-radius: 35px; box-shadow: 0 20px 50px rgba(255,182,193,0.3);
            backdrop-filter: blur(20px);
        }
        .header img { 
            width: 100px; height: 100px; margin-right: 25px; 
            animation: kittyFloat 3s ease-in-out infinite; 
        }
        @keyframes kittyFloat { 
            0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} 
        }
        
        h1 { 
            background: linear-gradient(45deg, #ff1493, #ff69b4); 
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            font-size: 2.1em; font-weight: 800; margin: 0; flex: 1;
        }
        
        .emoji-grid {
            display: grid; grid-template-columns: repeat(4,1fr); gap: 18px; 
            margin: 35px 0; padding: 30px 25px; 
            background: rgba(255,255,255,0.92); border-radius: 35px; 
            box-shadow: 0 20px 60px rgba(255,105,180,0.25);
            backdrop-filter: blur(25px); border: 3px solid rgba(255,182,193,0.4);
        }
        .emoji-btn {
            width: 100%; height: 85px; border: none; border-radius: 25px;
            font-size: 2.5em; background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,245,248,0.9));
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative; overflow: hidden; border: 4px solid transparent;
        }
        .emoji-btn::before {
            content: ''; position: absolute; top: -50%; left: -50%; 
            width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.6) 0%, transparent 70%);
            opacity: 0; transition: opacity 0.4s;
        }
        .emoji-btn:hover::before { opacity: 1; }
        .emoji-btn:hover { 
            transform: translateY(-8px) scale(1.08); 
            border-color: #ff69b4; box-shadow: 0 20px 50px rgba(255,105,180,0.4);
        }
        .emoji-btn.selected { 
            background: linear-gradient(135deg, #ff69b4, #ff1493) !important;
            color: white; transform: translateY(-12px) scale(1.15) !important;
            border-color: #ffe4f0 !important; 
            box-shadow: 0 25px 70px rgba(255,105,180,0.6) !important;
            animation: selectedPulse 1s infinite;
        }
        @keyframes selectedPulse {
            0%, 100% { box-shadow: 0 25px 70px rgba(255,105,180,0.6); }
            50% { box-shadow: 0 30px 80px rgba(255,105,180,0.8); }
        }
        .emoji-btn:disabled:not(.selected) { opacity: 0.6; cursor: not-allowed; }
        
        .generate-btn, .share-btn {
            width: 100%; padding: 25px; border: none; border-radius: 40px;
            background: linear-gradient(45deg, #ff1493, #ff69b4, #ffc0cb); 
            background-size: 200% 200%; color: white; font-size: 1.45em; 
            font-weight: 800; cursor: pointer; margin: 30px 0; 
            box-shadow: 0 15px 45px rgba(255,20,147,0.4);
            animation: gradientShift 3s ease infinite; position: relative; overflow: hidden;
        }
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        .generate-btn:hover:not(:disabled), .share-btn:hover { 
            transform: translateY(-5px) scale(1.03); 
            box-shadow: 0 25px 60px rgba(255,20,147,0.6);
        }
        .generate-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .advice {
            background: rgba(255,255,255,0.97); padding: 45px 30px 35px;
            border-radius: 40px; text-align: center; margin: 35px 0;
            box-shadow: 0 25px 80px rgba(255,105,180,0.35);
            position: relative; overflow: hidden; border: 4px solid rgba(255,182,193,0.5);
            backdrop-filter: blur(25px);
        }
        .advice img { 
            position: absolute; left: 30px; top: 50%; 
            transform: translateY(-50%); width: 95px; height: 95px;
            animation: kittyWink 3s infinite;
        }
        @keyframes kittyWink {
            0%, 85% { transform: translateY(-50%) scale(1); }
            90% { transform: translateY(-55%) scale(0.95); }
            100% { transform: translateY(-50%) scale(1); }
        }
        .kitty-talk { 
            font-size: 1.55em; font-weight: 900; 
            background: linear-gradient(45deg, #ff1493, #ff69b4);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 18px; margin-left: 120px; position: relative;
        }
        .advice-text { 
            font-size: 1.35em; color: #333; line-height: 1.5; 
            margin-left: 120px; margin-bottom: 20px; font-weight: 600;
        }
        .kitty-compliment {
            font-size: 1.1em; color: #ff69b4; font-weight: 700;
            margin-left: 120px; position: relative; margin-top: 15px;
            animation: sparkleText 2s ease-in-out infinite;
        }
        @keyframes sparkleText {
            0%, 100% { text-shadow: 0 0 10px rgba(255,105,180,0.5); }
            50% { text-shadow: 0 0 25px rgba(255,105,180,0.8), 0 0 35px rgba(255,182,193,0.6); }
        }
        
        .copy-status {
            background: linear-gradient(135deg, rgba(76,175,80,0.9), rgba(129,199,132,0.8));
            color: white; padding: 12px 20px; border-radius: 25px;
            font-weight: 600; font-size: 1em; margin-top: 15px;
            opacity: 0; transform: translateY(20px); transition: all 0.4s;
        }
        .copy-status.show { opacity: 1; transform: translateY(0); }
        
        .stats { 
            display: flex; justify-content: space-around; padding: 25px;
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,245,248,0.9));
            border-radius: 30px; margin: 25px 0; box-shadow: 0 20px 60px rgba(255,182,193,0.3);
            border: 3px solid rgba(255,105,180,0.4); backdrop-filter: blur(20px);
        }
        .stat { 
            color: #ff1493; font-weight: 800; font-size: 1.25em; 
            text-shadow: 0 2px 10px rgba(255,105,180,0.3);
        }
        
        .hearts { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 100; width: 100%; height: 100%; }
        .heart { 
            position: absolute; font-size: 2em; color: #ff1493;
            animation: floatUp 4.5s ease-out forwards;
        }
        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0) rotate(0deg); opacity: 0; }
            15% { opacity: 1; }
            85% { opacity: 1; }
            100% { transform: translateY(-120px) scale(1) rotate(360deg); opacity: 0; }
        }
        
        /* –°–∫—Ä—ã—Ç—å –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã */
        audio { display: none; }
    </style>
</head>
<body>
    <div id="app">
        <button class="music-toggle" @click="toggleMusic" :class="{ active: isMusicOn }">
            <span>{{ isMusicOn ? 'üéµ' : 'üé∂' }}</span>
        </button>

        <div class="header">
            <img src="kitty-head.png" alt="Kitty" onerror="this.src='https://via.placeholder.com/100/ff69b4/ffffff?text=Kitty'">
            <h1>Hello –ò—Ä–∏—à–∞! üéÄ</h1>
        </div>
        
        <div class="stats" v-if="stats.todaySmiles > 0">
            <div class="stat">–°–µ–≥–æ–¥–Ω—è: {{ stats.todaySmiles }} üêæ</div>
            <div class="stat">–í—Å–µ–≥–æ: {{ stats.totalSmiles }} üíï</div>
        </div>

        <div class="emoji-grid">
            <button v-for="(emoji, i) in kittyEmojis" :key="i"
                class="emoji-btn" :class="{ selected: selectedEmojis.includes(emoji) }"
                @click="toggleEmoji(emoji)" :disabled="selectedEmojis.length >= 3 && !selectedEmojis.includes(emoji)">
                {{ emoji }}
            </button>
        </div>

        <button class="generate-btn" :disabled="selectedEmojis.length < 3" @click="generateAdvice">
            {{ selectedEmojis.length < 3 ? `–í—ã–±–µ—Ä–∏ –µ—â—ë ${3 - selectedEmojis.length} —Å—Ç–∏–∫–µ—Ä–∞! üíñ` : '–ú—è—É-–º—è—É! –î–∞–π —Å–æ–≤–µ—Ç –æ—Ç Kitty! ‚ú®' }}
        </button>

        <div v-if="currentAdvice" class="advice">
            <img src="kitty-wink.png" alt="Kitty wink" onerror="this.src='https://via.placeholder.com/95/ff69b4/ffffff?text=üòª'">
            <div class="kitty-talk">üòª Kitty –≥–æ–≤–æ—Ä–∏—Ç:</div>
            <div class="advice-text">{{ currentAdvice }}</div>
            <div class="kitty-compliment">{{ currentCompliment }}</div>
        </div>

        <button v-if="currentAdvice" class="share-btn" @click="shareAdvice">
            üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–≤–µ—Ç
        </button>
        <div v-if="copyStatus.show" class="copy-status" :class="{ show: copyStatus.show }">
            ‚úÖ –°–æ–≤–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω! –í—Å—Ç–∞–≤—å –≤ —á–∞—Ç üíï
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Å–µ—Ä–¥–µ—Ü -->
        <div class="hearts" ref="heartsContainer"></div>
        
        <!-- –ê—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã (—Å–∫—Ä—ã—Ç—ã) -->
        <audio ref="meowSound" preload="auto">
            <source src="meow.mp3" type="audio/mpeg">
            <source src="https://cdn.pixabay.com/audio/2022/03/10/audio_3534ec662b.mp3" type="audio/mpeg">
        </audio>
        <audio ref="clickSound" preload="auto">
            <source src="click.mp3" type="audio/mpeg">
            <source src="https://cdn.pixabay.com/audio/2022/03/16/audio_6c1a96314c.mp3" type="audio/mpeg">
        </audio>
        <audio ref="bgMusic" loop preload="auto">
            <source src="pink-chill.mp3" type="audio/mpeg">
            <source src="https://cdn.pixabay.com/audio/2022/02/22/audio_5b8d5d8a9b.mp3" type="audio/mpeg">
        </audio>
        <audio ref="sparkleSound" preload="auto">
            <source src="sparkle.mp3" type="audio/mpeg">
            <source src="https://cdn.pixabay.com/audio/2022/03/10/audio_7b4d1c7d9c.mp3" type="audio/mpeg">
        </audio>
    </div>

    <script>
        const { createApp, ref, onMounted, computed } = Vue;
        
        createApp({
            setup() {
                const kittyEmojis = ['üòª','üêæ','üéÄ','üå∏','üíï','‚≠ê','üçì','‚ú®','üéÅ','üç≠','üß∏','üå∫','üíñ','üéÇ','‚ùÑÔ∏è','üîî'];
                const selectedEmojis = ref([]);
                const currentAdvice = ref('');
                const currentCompliment = ref('');
                const stats = ref({ todaySmiles: 0, totalSmiles: 0, lastDate: '' });
                const copyStatus = ref({ show: false });
                const isMusicOn = ref(false);
                const heartsContainer = ref(null);
                
                // –ê–£–î–ò–û –†–ï–§–´
                const meowSound = ref(null);
                const clickSound = ref(null);
                const bgMusic = ref(null);
                const sparkleSound = ref(null);
                
                // –ö–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã –∏ —Å–æ–≤–µ—Ç—ã
                const compliments = [
                    '–ò—Ä–∏—à–∞ ‚Äî —Ç—ã –ª—É—á—à–∞—è! üêæüíï','–¢—ã —Å—É–ø–µ—Ä–∑–≤–µ–∑–¥–∞! üåü‚ú®','–°–∞–º–∞—è –º–∏–ª–∞—è –Ω–∞ —Å–≤–µ—Ç–µ! üòªüéÄ',
                    'Kitty —Ç–æ–±–æ–π –≥–æ—Ä–¥–∏—Ç—Å—è! üíñüêæ','–¢—ã –¥–µ–ª–∞–µ—à—å –º–∏—Ä —è—Ä—á–µ! üå∏üí´','–ú—è—É-–º—è—É, –∫–∞–∫–∞—è –∫—Ä–∞—Å–æ—Ç–∫–∞! üçì‚ú®',
                    '–° —Ç–æ–±–æ–π –≤–µ—Å–µ–ª–µ–µ –≤—Å–µ—Ö! üéÄüòª','–¢—ã ‚Äî –º–æ—è –ª—é–±–∏–º–∞—è –∑–≤—ë–∑–¥–æ—á–∫–∞! ‚≠êüíï'
                ];
                
                const kittyActions = [
                    '–∫—É—Ç–∞–π—Å—è –≤ —Ç—ë–ø–ª—ã–π –ø–ª–µ–¥', '–ø–µ–π –≥–æ—Ä—è—á–∏–π —à–æ–∫–æ–ª–∞–¥', '—Å–ª—É—à–∞–π —É—é—Ç–Ω—É—é –º—É–∑—ã–∫—É',
                    '—Å–º–æ—Ç—Ä–∏ –º–∏–ª—ã–µ –≤–∏–¥–µ–æ', '—Ä–∏—Å—É–π —Å–Ω–µ–∂–∏–Ω–∫–∏', '–Ω–æ—Å–∏ –ø—É—à–∏—Å—Ç—ã–µ –Ω–æ—Å–æ—á–∫–∏',
                    '–ø–µ—á—å –∏–º–±–∏—Ä–Ω–æ–µ –ø–µ—á–µ–Ω—å–µ', '–¥–µ–ª–∞–π —Å–Ω–µ–∂–∫–∏', '—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Ñ–∏–ª—å–º—ã',
                    '–æ–±–Ω–∏–º–∞–π –∫–æ—Ç–∏–∫–∞', '—É–ª—ã–±–∞–π—Å—è –≤ –æ–∫–Ω–æ', '—Ç–∞–Ω—Ü–µ–≤–∞—Ç—å –ø–æ–¥ –ª–∞–º–ø–æ—á–∫–∏'
                ];
                const kittyDetails = [
                    '—Å –∫–∞–∫–∞–æ', '—É –æ–∫–Ω–∞ —Å–æ —Å–Ω–µ–≥–æ–º', '—Å –∫–æ—Ç–∏–∫–æ–º', '–ø–æ–¥ –≥–∏—Ä–ª—è–Ω–¥–æ–π',
                    '–≤ —Ç—ë–ø–ª—ã—Ö –Ω–æ—Å–æ—á–∫–∞—Ö', '—Å –º–∞–Ω–¥–∞—Ä–∏–Ω–∫–∞–º–∏', '–ø–æ–¥ –ø–ª–µ–¥–æ–º',
                    '—Å –≥–æ—Ä—è—á–∏–º–∏ –Ω–∞–ø–∏—Ç–∫–∞–º–∏', '–≤ —Å–≤–∏—Ç–µ—Ä–µ —Å –æ–ª–µ–Ω—è–º–∏', '—Å –¥—Ä—É–∑—å—è–º–∏'
                ];
                const kittyBonuses = [
                    '—Ç—ã —Å–æ–∑–¥–∞—ë—à—å —É—é—Ç!', '—Ç–µ–ø–ª–æ –æ—Ç —Ç–≤–æ–µ–π —É–ª—ã–±–∫–∏!', '–∑–∏–º–∞ —Å —Ç–æ–±–æ–π –≤–æ–ª—à–µ–±–Ω–∞—è!',
                    '—Å–∞–º–∞—è —Ç—ë–ø–ª–∞—è –¥—É—à–∞!', '—Å—É–ø–µ—Ä-–∑–∏–º–Ω—è—è –∑–≤–µ–∑–¥–∞!', '—É—é—Ç–Ω–µ–µ –≤—Å–µ—Ö!'
                ];
                
                // –ï–¥–∏–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è –∑–≤—É–∫–∞
                const playSound = (soundRef) => {
                    if (!soundRef.value) return;
                    
                    // –ó–≤—É–∫–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—é—Ç—Å—è –≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞
                    soundRef.value.currentTime = 0;
                    soundRef.value.volume = 0.4;
                    soundRef.value.play().catch(e => {
                        console.log('Sound play blocked:', e.message);
                    });
                };
                
                // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤–æ–π –º—É–∑—ã–∫–∏
                const toggleMusic = () => {
                    isMusicOn.value = !isMusicOn.value;
                    
                    if (bgMusic.value) {
                        bgMusic.value.volume = 0.15;
                        if (isMusicOn.value) {
                            bgMusic.value.play().catch(e => {
                                console.log('Background music autoplay blocked:', e);
                                // –ü–æ–∫–∞–∂–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é?
                            });
                        } else {
                            bgMusic.value.pause();
                        }
                    }
                };
                
                // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                const loadStats = () => {
                    try {
                        const saved = localStorage.getItem('iraKittyStats');
                        const today = new Date().toDateString();
                        
                        if (saved) {
                            stats.value = JSON.parse(saved);
                            // –°–±—Ä–æ—Å –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —Å—á—ë—Ç—á–∏–∫–∞
                            if (stats.value.lastDate !== today) {
                                stats.value.todaySmiles = 0;
                                stats.value.lastDate = today;
                            }
                        } else {
                            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                            stats.value = {
                                todaySmiles: 0,
                                totalSmiles: 0,
                                lastDate: today
                            };
                        }
                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
                        localStorage.setItem('iraKittyStats', JSON.stringify(stats.value));
                    } catch (e) {
                        console.error('Error loading stats:', e);
                        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
                        stats.value = {
                            todaySmiles: 0,
                            totalSmiles: 0,
                            lastDate: new Date().toDateString()
                        };
                    }
                };
                
                // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏
                const toggleEmoji = (emoji) => {
                    playSound(clickSound);
                    
                    const idx = selectedEmojis.value.indexOf(emoji);
                    if (idx > -1) {
                        // –£–¥–∞–ª—è–µ–º –µ—Å–ª–∏ —É–∂–µ –≤—ã–±—Ä–∞–Ω
                        selectedEmojis.value.splice(idx, 1);
                    } else if (selectedEmojis.value.length < 3) {
                        // –î–æ–±–∞–≤–ª—è–µ–º –µ—Å–ª–∏ –º–µ–Ω—å—à–µ 3
                        selectedEmojis.value.push(emoji);
                    }
                };
                
                // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–≤–µ—Ç–∞
                const generateAdvice = () => {
                    playSound(sparkleSound);
                    setTimeout(() => playSound(meowSound), 300);
                    
                    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–≤–µ—Ç–∞
                    const action = kittyActions[Math.floor(Math.random() * kittyActions.length)];
                    const detail = kittyDetails[Math.floor(Math.random() * kittyDetails.length)];
                    const bonus = kittyBonuses[Math.floor(Math.random() * kittyBonuses.length)];
                    currentAdvice.value = `${action} ${detail}, ${bonus}`;
                    
                    // –í—ã–±–∏—Ä–∞–µ–º –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
                    currentCompliment.value = compliments[Math.floor(Math.random() * compliments.length)];
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                    stats.value.todaySmiles++;
                    stats.value.totalSmiles++;
                    try {
                        localStorage.setItem('iraKittyStats', JSON.stringify(stats.value));
                    } catch (e) {
                        console.error('Error saving stats:', e);
                    }
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ—Ä–¥–µ—Ü
                    if (heartsContainer.value) {
                        // –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å–µ—Ä–¥–µ—Ü
                        heartsContainer.value.innerHTML = '';
                        
                        for(let i = 0; i < 12; i++) {
                            setTimeout(() => {
                                const heart = document.createElement('div');
                                heart.className = 'heart';
                                heart.innerHTML = ['üíñ','‚ú®','‚ùÑÔ∏è','üêæ','üéÄ','üòª'][Math.floor(Math.random() * 6)];
                                heart.style.left = `${Math.random() * 100}%`;
                                heart.style.animationDuration = `${(Math.random() * 2 + 3).toFixed(1)}s`;
                                heartsContainer.value.appendChild(heart);
                                
                                // –£–¥–∞–ª—è–µ–º —Å–µ—Ä–¥—Ü–µ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                                setTimeout(() => {
                                    if (heart.parentNode) {
                                        heart.parentNode.removeChild(heart);
                                    }
                                }, 5000);
                            }, i * 150);
                        }
                    }
                };
                
                // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–≤–µ—Ç–∞
                const shareAdvice = async () => {
                    playSound(clickSound);
                    
                    // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç —Å —Ç–µ–∫—É—â–∏–º –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–º
                    const shareText = `üòª Kitty –≥–æ–≤–æ—Ä–∏—Ç –ò—Ä–∏—à–µ: ${currentAdvice.value}\n${currentCompliment.value}`;
                    
                    try {
                        await navigator.clipboard.writeText(shareText);
                        
                        // –ü–æ–∫–∞–∑ —Å—Ç–∞—Ç—É—Å–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
                        copyStatus.value.show = false;
                        // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
                        setTimeout(() => {
                            copyStatus.value.show = true;
                            setTimeout(() => {
                                copyStatus.value.show = false;
                            }, 3000);
                        }, 50);
                    } catch (e) {
                        console.error('Copy failed:', e);
                        alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–¥–µ–ª–∏—Ç—å –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é.');
                    }
                };
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
                onMounted(() => {
                    loadStats();
                    
                    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–≤—É–∫–æ–≤ (–¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
                    [meowSound, clickSound, bgMusic, sparkleSound].forEach(sound => {
                        if (sound.value) {
                            sound.value.load();
                        }
                    });
                    
                    // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram WebApp
                    if (window.Telegram?.WebApp) {
                        Telegram.WebApp.expand();
                        
                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
                        if (Telegram.WebApp.MainButton) {
                            Telegram.WebApp.MainButton
                                .setText('–ù–æ–≤—ã–π —Å–æ–≤–µ—Ç –æ—Ç Kitty! üòª')
                                .setColor('#ff1493')
                                .show()
                                .onClick(() => {
                                    playSound(clickSound);
                                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–æ–≤–µ—Ç–∞
                                    selectedEmojis.value = [];
                                    generateAdvice();
                                });
                        }
                    }
                });
        
                return { 
                    kittyEmojis, 
                    selectedEmojis, 
                    currentAdvice,
                    currentCompliment,
                    stats, 
                    copyStatus, 
                    isMusicOn,
                    heartsContainer,
                    toggleEmoji, 
                    generateAdvice, 
                    shareAdvice, 
                    toggleMusic,
                    meowSound, 
                    clickSound, 
                    bgMusic, 
                    sparkleSound
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
